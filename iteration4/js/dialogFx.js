(function(g){var f={animations:Modernizr.cssanimations},b={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},a=b[Modernizr.prefixed("animation")],e=function(i,h){var j=function(k){if(f.animations){if(k.target!=this){return}this.removeEventListener(a,j)}if(h&&typeof h==="function"){h.call()}};if(f.animations){i.addEventListener(a,j)}else{j()}};function d(h,i){for(var j in i){if(i.hasOwnProperty(j)){h[j]=i[j]}}return h}function c(h,i){this.el=h;this.options=d({},this.options);d(this.options,i);this.ctrlClose=this.el.querySelector("[data-dialog-close]");this.isOpen=false;this._initEvents()}c.prototype.options={onOpenDialog:function(){return false},onCloseDialog:function(){return false}};c.prototype._initEvents=function(){var h=this;this.ctrlClose.addEventListener("click",this.toggle.bind(this));document.addEventListener("keydown",function(i){var j=i.keyCode||i.which;if(j===27&&h.isOpen){h.toggle()}});this.el.querySelector(".dialog__overlay").addEventListener("click",this.toggle.bind(this))};c.prototype.toggle=function(){var h=this;if(this.isOpen){classie.remove(this.el,"dialog--open");classie.add(h.el,"dialog--close");e(this.el.querySelector(".dialog__content"),function(){classie.remove(h.el,"dialog--close")});this.options.onCloseDialog(this)}else{classie.add(this.el,"dialog--open");this.options.onOpenDialog(this)}this.isOpen=!this.isOpen};g.DialogFx=c})(window);